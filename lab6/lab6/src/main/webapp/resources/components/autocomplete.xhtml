<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns = "http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    
    <cc:interface>
        <cc:attribute name="searchLabel" />
        <cc:attribute name="view" type="abstraction.Autocompletable" />
        <cc:attribute name="converter" type="javax.faces.convert.Converter" />
    </cc:interface>

    <cc:implementation>
        <h:form id="autocompleteForm" class="ui-float-label">
            <h:panelGroup class="ui-float-label">
                <p:autoComplete id="autocompleteEvent" value="#{cc.attrs.view.text}"
                                completeMethod="#{cc.attrs.view.completeText}" scrollHeight="250"
                                var="el" itemLabel="#{el.name}" itemValue="#{el}" converter="#{cc.attrs.converter}">
                    <p:ajax event="itemSelect" listener="#{cc.attrs.view.onItemSelect}"  />
                </p:autoComplete>
                <p:outputLabel styleClass="pl-2" value="#{msg.search} #{cc.attrs.searchLabel}" for="@previous" />
            </h:panelGroup>
        </h:form>
    </cc:implementation>
    
</html>
